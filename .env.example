# ArcticCodex Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================

# Supabase project URL (find in project settings)
SUPABASE_URL=https://your-project.supabase.co

# Supabase anon/public key (find in project settings > API)
SUPABASE_KEY=your-anon-key-here

# Supabase service role key (KEEP SECRET - bypasses RLS)
# Only use for admin operations and migrations
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Direct Postgres connection string (find in project settings > Database)
# Format: postgresql://postgres:[PASSWORD]@db.your-project.supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment: development, staging, production
ENVIRONMENT=development

# JWT secret for session tokens (generate with: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret-here

# JWT token expiration (seconds)
JWT_EXPIRATION=86400

# ============================================================================
# LLM PROVIDER KEYS
# ============================================================================

# OpenAI API key
OPENAI_API_KEY=sk-your-openai-key

# Anthropic API key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# ============================================================================
# TOOL EXECUTION SETTINGS
# ============================================================================

# Tool execution mode: auto, approve, deny
# (can be overridden per-tool in database)
TOOL_DEFAULT_MODE=approve

# Max file size for tool operations (MB)
TOOL_MAX_FILE_SIZE_MB=100

# Tool execution timeout (seconds)
TOOL_TIMEOUT_SECONDS=300

# ============================================================================
# VAULT SETTINGS
# ============================================================================

# Vault storage path
VAULT_PATH=./vault_data

# Max evidence chunks to retrieve per query
VAULT_EVIDENCE_LIMIT=5

# ============================================================================
# AUDIT SETTINGS
# ============================================================================

# Audit event retention (days)
AUDIT_RETENTION_DAYS=365

# Enable audit hash chain verification
AUDIT_VERIFY_CHAIN=true

# ============================================================================
# COST TRACKING
# ============================================================================

# OpenAI pricing (per 1M tokens)
OPENAI_INPUT_COST=0.01
OPENAI_OUTPUT_COST=0.03

# Anthropic pricing (per 1M tokens)
ANTHROPIC_INPUT_COST=0.015
ANTHROPIC_OUTPUT_COST=0.075

# ============================================================================
# RATE LIMITING
# ============================================================================

# API rate limit (requests per minute per user)
API_RATE_LIMIT_RPM=60

# LLM rate limit (requests per minute per org)
LLM_RATE_LIMIT_RPM=20

# ============================================================================
# SERVERLESS SETTINGS (optional)
# ============================================================================

# Set to true if deploying to serverless (uses NullPool)
SERVERLESS=false
